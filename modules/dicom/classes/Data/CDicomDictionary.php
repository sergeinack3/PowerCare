<?php
/**
 * @package Mediboard\Dicom
 * @author  SAS OpenXtrem <dev@openxtrem.com>
 * @license https://www.gnu.org/licenses/gpl.html GNU General Public License
 * @license https://www.openxtrem.com/licenses/oxol.html OXOL OpenXtrem Open License
 */

namespace Ox\Interop\Dicom\Data;

use Ox\Core\Autoload\IShortNameAutoloadable;

/**
 * The DICOM dictionnary
 */
class CDicomDictionary implements IShortNameAutoloadable {

  /**
   * DICOM SOP classes
   *
   * @see DICOM Standard PS 3.6 Annex A
   *
   * @var array
   */
  protected static $sop_classes = array(
    '1.2.840.10008.1.1'               => 'Verification SOP Class',
    '1.2.840.10008.1.3.10'            => 'Media Storage Directory Storage',
    '1.2.840.10008.1.20.1'            => 'Storage Commitment Push Model SOP Class',
    '1.2.840.10008.3.1.1.1'           => 'DICOM Application Context Name',
    '1.2.840.10008.3.1.2.3.3'         => 'Modality Performed Procedure Step SOP Class',
    '1.2.840.10008.5.1.1.1'           => 'Basic Film Session SOP Class',
    '1.2.840.10008.5.1.1.2'           => 'Basic Film Box',
    '1.2.840.10008.5.1.1.4'           => 'Basic Grayscale Image Box',
    '1.2.840.10008.5.1.1.9'           => 'Basic Grayscale Print Management Meta',
    '1.2.840.10008.5.1.1.16'          => 'Printer',
    '1.2.840.10008.5.1.1.23'          => 'Presentation LUT',
    '1.2.840.10008.5.1.4.1.1.1'       => 'Computed Radiography Image Storage',
    '1.2.840.10008.5.1.4.1.1.1.1'     => 'Digital X-Ray Image Storage for Presentation',
    '1.2.840.10008.5.1.4.1.1.1.1.1'   => 'Digital X-Ray Image Storage for Processing',
    '1.2.840.10008.5.1.4.1.1.1.2'     => 'Mammography Image Storage- For Presentation',
    '1.2.840.10008.5.1.4.1.1.1.2.1'   => 'Mammography Image Storage- For Processing',
    '1.2.840.10008.5.1.4.1.1.1.3'     => 'Digital Intra-oral X-Ray Image Storage for Presentation',
    '1.2.840.10008.5.1.4.1.1.1.3.1'   => 'Digital Intra-oral X-Ray Image Storage for Processing',
    '1.2.840.10008.5.1.4.1.1.2'       => 'CT Image Storage',
    '1.2.840.10008.5.1.4.1.1.3.1'     => 'Ultrasound Multi-Frame Image Storage',
    '1.2.840.10008.5.1.4.1.1.4'       => 'MR Image Storage',
    '1.2.840.10008.5.1.4.1.1.6.1'     => 'Ultrasound Image Storage',
    '1.2.840.10008.5.1.4.1.1.7'       => 'Secondary Capture Image Storage',
    '1.2.840.10008.5.1.4.1.1.11.1'    => 'Grayscale Softcopy Presentation State Storage',
    '1.2.840.10008.5.1.4.1.1.12.1'    => 'X-Ray Angiographic Image Storage',
    '1.2.840.10008.5.1.4.1.1.12.2'    => 'X-Ray Radiofluoroscopic Image Storage',
    '1.2.840.10008.5.1.4.1.1.12.3'    => 'X-Ray Angiographic Bi-Plane Image Storage',
    '1.2.840.10008.5.1.4.1.1.20'      => 'Nuclear Medicine Image Storage',
    '1.2.840.10008.5.1.4.1.1.77.1.1'  => 'VL Endoscopic Image Storage',
    '1.2.840.10008.5.1.4.1.1.77.1.2'  => 'VL Microscopic Image Storage',
    '1.2.840.10008.5.1.4.1.1.77.1.3'  => 'VL Slide-Coordinates Microscopic Image Storage',
    '1.2.840.10008.5.1.4.1.1.77.1.4'  => 'VL Photographic Image Storage',
    '1.2.840.10008.5.1.4.1.1.88.67'   => 'X-Ray Radiation Dose Storage',
    '1.2.840.10008.5.1.4.1.1.128'     => 'Positron Emission Tomography Image Storage',
    '1.2.840.10008.5.1.4.1.1.481.1'   => 'RT Image Storage',
    '1.2.840.10008.5.1.4.1.2.1.1'     => 'Patient Root Query/Retrieve Information Model - FIND',
    '1.2.840.10008.5.1.4.1.2.1.2'     => 'Patient Root Query/Retrieve Information Model - MOVE',
    '1.2.840.10008.5.1.4.1.2.2.1'     => 'Study Root Query/Retrieve Information Model - FIND',
    '1.2.840.10008.5.1.4.1.2.2.2'     => 'Study Root Query/Retrieve Information Model - MOVE',
    '1.2.840.10008.5.1.4.31'          => 'Modality Worklist Information Model - FIND'
  );

  /**
   * The DICOM Network transfer syntaxes
   *
   * @see DICOM Standard PS 3.6 Annex A
   *
   * @var array
   */
  protected static $transfer_syntaxes = array(
    '1.2.840.10008.1.2'   => 'Implicit VR Little Endian',
    '1.2.840.10008.1.2.1' => 'Explicit VR Little Endian',
    '1.2.840.10008.1.2.2' => 'Explicit VR Big Endian',
  );

  /**
   * The value representations
   * Each array contains the full name, the maximum length (in bytes), and if the length is fixed (1) or not (0)
   *
   * @see DICOM Standard PS 3.5 Section 6.2
   *
   * @var array
   */
  protected static $value_representations = array(
   'AE'=> array('Name'=>'Application Entity'              , 'Length' => 16        , 'Fixed' => 0),
   'AS'=> array('Name'=>'Age String'                      , 'Length' => 4         , 'Fixed' => 1),
   'AT'=> array('Name'=>'Attribute Tag'                   , 'Length' => 4         , 'Fixed' => 1),
   'CS'=> array('Name'=>'Code String'                     , 'Length' => 16        , 'Fixed' => 0),
   'DA'=> array('Name'=>'Date'                            , 'Length' => 8         , 'Fixed' => 1),
   'DS'=> array('Name'=>'Decimal String'                  , 'Length' => 16        , 'Fixed' => 0),
   'DT'=> array('Name'=>'Date Time'                       , 'Length' => 26        , 'Fixed' => 0),
   'FL'=> array('Name'=>'Floating Point Single'           , 'Length' => 4         , 'Fixed' => 1),
   'FD'=> array('Name'=>'Floating Point Double'           , 'Length' => 8         , 'Fixed' => 1),
   'IS'=> array('Name'=>'Integer String'                  , 'Length' => 12        , 'Fixed' => 0),
   'LO'=> array('Name'=>'Long String'                     , 'Length' => 64        , 'Fixed' => 0),
   'LT'=> array('Name'=>'Long Text'                       , 'Length' => 10240     , 'Fixed' => 0),
   'OB'=> array('Name'=>'Other Byte String'               , 'Length' => 0         , 'Fixed' => 0),
   'OF'=> array('Name'=>'Other Float String'              , 'Length' => 4294967292, 'Fixed' => 0),
   'OX'=> array('Name'=>'Mixed. Other {Byte|Word} String' , 'Length' => 0         , 'Fixed' => 0),
   'OW'=> array('Name'=>'Other Word String'               , 'Length' => 0         , 'Fixed' => 0),
   'PN'=> array('Name'=>'Person Name'                     , 'Length' => 64        , 'Fixed' => 0),
   'SH'=> array('Name'=>'Short String'                    , 'Length' => 16        , 'Fixed' => 0),
   'SL'=> array('Name'=>'Signed Long'                     , 'Length' => 4         , 'Fixed' => 1),
   'SQ'=> array('Name'=>'Sequence of Items'               , 'Length' => 0         , 'Fixed' => 0),
   'SS'=> array('Name'=>'Signed Short'                    , 'Length' => 2         , 'Fixed' => 1),
   'ST'=> array('Name'=>'Short Text'                      , 'Length' => 1024      , 'Fixed' => 0),
   'TM'=> array('Name'=>'Time'                            , 'Length' => 16        , 'Fixed' => 0),
   'UI'=> array('Name'=>'Unique Identifier UID'           , 'Length' => 64        , 'Fixed' => 0),
   'UL'=> array('Name'=>'Unsigned Long'                   , 'Length' => 4         , 'Fixed' => 1),
   'UN'=> array('Name'=>'Unknown'                         , 'Length' => 0         , 'Fixed' => 0),
   'US'=> array('Name'=>'Unsigned Short'                  , 'Length' => 2         , 'Fixed' => 1),
   'UT'=> array('Name'=>'Unlimited Text'                  , 'Length' => 4294967294, 'Fixed' => 0)
  );

  /**
   * DICOM data sets.
   *
   * The first key is the group number, the second the element number.
   * Foreach element, the first element is the value representation,
   * the second the value multiplicity, and the last is the name
   *
   * @see DICOM Standard PS 3.6 Section 6
   *
   * @var array
   */
  protected static $data_sets = array(
     0x0000 => array(
       0x0000 => array('UL', '1',    'GroupLength'),
       0x0001 => array('UL', '1',    'CommandLengthToEnd'),
       0x0002 => array('UI', '1',    'AffectedSOPClassUID'),
       0x0003 => array('UI', '1',    'RequestedSOPClassUID'),
       0x0010 => array('CS', '1',    'CommandRecognitionCode'),
       0x0100 => array('US', '1',    'CommandField'),
       0x0110 => array('US', '1',    'MessageID'),
       0x0120 => array('US', '1',    'MessageIDBeingRespondedTo'),
       0x0200 => array('AE', '1',    'Initiator'),
       0x0300 => array('AE', '1',    'Receiver'),
       0x0400 => array('AE', '1',    'FindLocation'),
       0x0600 => array('AE', '1',    'MoveDestination'),
       0x0700 => array('US', '1',    'Priority'),
       0x0800 => array('US', '1',    'DataSetType'),
       0x0850 => array('US', '1',    'NumberOfMatches'),
       0x0860 => array('US', '1',    'ResponseSequenceNumber'),
       0x0900 => array('US', '1',    'Status'),
       0x0901 => array('AT', '1-n',  'OffendingElement'),
       0x0902 => array('LO', '1',    'ErrorComment'),
       0x0903 => array('US', '1',    'ErrorID'),
       0x0904 => array('OT', '1-n',  'ErrorInformation'),
       0x1000 => array('UI', '1',    'AffectedSOPInstanceUID'),
       0x1001 => array('UI', '1',    'RequestedSOPInstanceUID'),
       0x1002 => array('US', '1',    'EventTypeID'),
       0x1003 => array('OT', '1-n',  'EventInformation'),
       0x1005 => array('AT', '1-n',  'AttributeIdentifierList'),
       0x1007 => array('AT', '1-n',  'ModificationList'),
       0x1008 => array('US', '1',    'ActionTypeID'),
       0x1009 => array('OT', '1-n',  'ActionInformation'),
       0x1013 => array('UI', '1-n',  'SuccessfulSOPInstanceUIDList'),
       0x1014 => array('UI', '1-n',  'FailedSOPInstanceUIDList'),
       0x1015 => array('UI', '1-n',  'WarningSOPInstanceUIDList'),
       0x1020 => array('US', '1',    'NumberOfRemainingSuboperations'),
       0x1021 => array('US', '1',    'NumberOfCompletedSuboperations'),
       0x1022 => array('US', '1',    'NumberOfFailedSuboperations'),
       0x1023 => array('US', '1',    'NumberOfWarningSuboperations'),
       0x1030 => array('AE', '1',    'MoveOriginatorApplicationEntityTitle'),
       0x1031 => array('US', '1',    'MoveOriginatorMessageID'),
       0x4000 => array('AT', '1',    'DialogReceiver'),
       0x4010 => array('AT', '1',    'TerminalType'),
       0x5010 => array('SH', '1',    'MessageSetID'),
       0x5020 => array('SH', '1',    'EndMessageSet'),
       0x5110 => array('AT', '1',    'DisplayFormat'),
       0x5120 => array('AT', '1',    'PagePositionID'),
       0x5130 => array('CS', '1',    'TextFormatID'),
       0x5140 => array('CS', '1',    'NormalReverse'),
       0x5150 => array('CS', '1',    'AddGrayScale'),
       0x5160 => array('CS', '1',    'Borders'),
       0x5170 => array('IS', '1',    'Copies'),
       0x5180 => array('CS', '1',    'OldMagnificationType'),
       0x5190 => array('CS', '1',    'Erase'),
       0x51A0 => array('CS', '1',    'Print'),
       0x51B0 => array('US', '1-n',  'Overlays'),
    ),

     0x0008 => array(
       0x0000 => array('UL', '1',    'IdentifyingGroupLength', 'RET'),
       0x0001 => array('UL', '1',    'LengthToEnd', 'RET'),
       0x0005 => array('CS', '1-n',  'SpecificCharacterSet'),
       0x0006 => array('SQ', '1',    'LanguageCodeSequence'),
       0x0008 => array('CS', '2-n',  'ImageType'),
       0x000A => array('US', '1',    'SequenceItemNumber'), // NA
       0x0010 => array('CS', '1',    'RecognitionCode', 'RET'),
       0x0012 => array('DA', '1',    'InstanceCreationDate'),
       0x0013 => array('TM', '1',    'InstanceCreationTime'),
       0x0014 => array('UI', '1',    'InstanceCreatorUID'),
       0x0016 => array('UI', '1',    'SOPClassUID'),
       0x0018 => array('UI', '1',    'SOPInstanceUID'),
       0x001A => array('UI', '1-n',  'RelatedGeneralSOPClassUID'),
       0x001B => array('UI', '1',    'OriginalSpecializedSOPClassUID'),
       0x0020 => array('DA', '1',    'StudyDate'),
       0x0021 => array('DA', '1',    'SeriesDate'),
       0x0022 => array('DA', '1',    'AcquisitionDate'),
       0x0023 => array('DA', '1',    'ContentDate'),
       0x0024 => array('DA', '1',    'OverlayDate', 'RET'),
       0x0025 => array('DA', '1',    'CurveDate', 'RET'),
       0x002A => array('DT', '1',    'AcquisitionDatetime'),
       0x0030 => array('TM', '1',    'StudyTime'),
       0x0031 => array('TM', '1',    'SeriesTime'),
       0x0032 => array('TM', '1',    'AcquisitionTime'),
       0x0033 => array('TM', '1',    'ContentTime'),
       0x0034 => array('TM', '1',    'OverlayTime', 'RET'),
       0x0035 => array('TM', '1',    'CurveTime', 'RET'),
       0x0040 => array('US', '1',    'DataSetType', 'RET'),
       0x0041 => array('LO', '1',    'DataSetSubtype', 'RET'),
       0x0042 => array('CS', '1',    'NuclearMedicineSeriesType', 'RET'),
       0x0050 => array('SH', '1',    'AccessionNumber'),
       0x0051 => array('SQ', '1',    'IssuerOfAccessionNumberSequence'),
       0x0052 => array('CS', '1',    'QueryRetrieveLevel'),
       0x0054 => array('AE', '1-n',  'RetrieveAETitle'),
       0x0056 => array('CS', '1',    'InstanceAvailability'),
       0x0058 => array('UI', '1-n',  'FailedSOPInstanceUIDList'),
       0x0060 => array('CS', '1',    'Modality'),
       0x0061 => array('CS', '1-n',  'ModalitiesInStudy'),
       0x0062 => array('UI', '1-n',  'SOPClassesInStudy'),
       0x0064 => array('CS', '1',    'ConversionType'),
       0x0068 => array('CS', '1',    'PresentationIntentType'),
       0x0070 => array('LO', '1',    'Manufacturer'),
       0x0080 => array('LO', '1',    'InstitutionName'),
       0x0081 => array('ST', '1',    'InstitutionAddress'),
       0x0082 => array('SQ', '1',    'InstitutionCodeSequence'),
       0x0090 => array('PN', '1',    'ReferringPhysicianName'),
       0x0092 => array('ST', '1',    'ReferringPhysicianAddress'),
       0x0094 => array('SH', '1-n',  'ReferringPhysicianTelephoneNumbers'),
       0x0096 => array('SQ', '1',    'ReferringPhysicianIdentificationSequence'),
       0x0100 => array('SH', '1',    'CodeValue'),
       0x0102 => array('SH', '1',    'CodingSchemeDesignator'),
       0x0103 => array('SH', '1',    'CodingSchemeVersion'),
       0x0104 => array('LO', '1',    'CodeMeaning'),
       0x0105 => array('CS', '1',    'MappingResource'),
       0x0106 => array('DT', '1',    'ContextGroupVersion'),
       0x0107 => array('DT', '1',    'ContextGroupLocalVersion'),
       0x010B => array('CS', '1',    'ContextGroupExtensionFlag'),
       0x010C => array('UI', '1',    'CodingSchemeUID'),
       0x010D => array('UI', '1',    'ContextGroupExtensionCreatorUID'),
       0x010F => array('CS', '1',    'ContextIdentifier'),
       0x0110 => array('SQ', '1',    'CodingSchemeIdentificationSequence'),
       0x0112 => array('LO', '1',    'CodingSchemeRegistry'),
       0x0114 => array('ST', '1',    'CodingSchemeExternalID'),
       0x0115 => array('ST', '1',    'CodingSchemeName'),
       0x0116 => array('ST', '1',    'CodingSchemeResponsibleOrganization'),
       0x0117 => array('UI', '1',    'ContextUID'),
       0x0201 => array('SH', '1',    'TimezoneOffsetFromUTC'),
       0x1000 => array('AE', '1',    'NetworkID', 'RET'),
       0x1010 => array('SH', '1',    'StationName'),
       0x1030 => array('LO', '1',    'StudyDescription'),
       0x1032 => array('SQ', '1',    'ProcedureCodeSequence'),
       0x103E => array('LO', '1',    'SeriesDescription'),
       0x103F => array('SQ', '1',    'SeriesDescriptionCodeSequence'),
       0x1040 => array('LO', '1',    'InstitutionalDepartmentName'),
       0x1048 => array('PN', '1-n',  'PhysiciansOfRecord'),
       0x1049 => array('SQ', '1',    'PhysiciansOfRecordIdentificationSequence'),
       0x1050 => array('PN', '1-n',  'PerformingPhysicianName'),
       0x1052 => array('SQ', '1',    'PerformingPhysicianIdentificationSequence'),
       0x1060 => array('PN', '1-n',  'NameOfPhysiciansReadingStudy'),
       0x1062 => array('SQ', '1',    'PhysiciansReadingStudyIdentificationSequence'),
       0x1070 => array('PN', '1-n',  'OperatorsName'),
       0x1072 => array('SQ', '1',    'OperatorIdentificationSequence'),
       0x1080 => array('LO', '1-n',  'AdmittingDiagnosesDescription'),
       0x1084 => array('SQ', '1',    'AdmittingDiagnosesCodeSequence'),
       0x1090 => array('LO', '1',    'ManufacturerModelName'),
       0x1100 => array('SQ', '1',    'ReferencedResultsSequence', 'RET'),
       0x1110 => array('SQ', '1',    'ReferencedStudySequence'),
       0x1111 => array('SQ', '1',    'ReferencedPerformedProcedureStepSequence'),
       0x1115 => array('SQ', '1',    'ReferencedSeriesSequence'),
       0x1120 => array('SQ', '1',    'ReferencedPatientSequence'),
       0x1125 => array('SQ', '1',    'ReferencedVisitSequence'),
       0x1130 => array('SQ', '1',    'ReferencedOverlaySequence', 'RET'),
       0x1134 => array('SQ', '1',    'ReferencedStereometricInstanceSequence'),
       0x113A => array('SQ', '1',    'ReferencedWaveformSequence'),
       0x1140 => array('SQ', '1',    'ReferencedImageSequence'),
       0x1145 => array('SQ', '1',    'ReferencedCurveSequence', 'RET'),
       0x114A => array('SQ', '1',    'ReferencedInstanceSequence'),
       0x114B => array('SQ', '1',    'ReferencedRealWorldValueMappingInstanceSequence'),
       0x1150 => array('UI', '1',    'ReferencedSOPClassUID'),
       0x1155 => array('UI', '1',    'ReferencedSOPInstanceUID'),
       0x115A => array('UI', '1-n',  'SOPClassesSupported'),
       0x1160 => array('IS', '1-n',  'ReferencedFrameNumber'),
       0x1161 => array('UL', '1-n',  'SimpleFrameList'),
       0x1162 => array('UL', '3-3n', 'CalculatedFrameList'),
       0x1163 => array('FD', '2',    'TimeRange'),
       0x1164 => array('SQ', '1',    'FrameExtractionSequence'),
       0x1167 => array('UI', '1',    'MultiFrameSourceSOPInstanceUID'),
       0x1195 => array('UI', '1',    'TransactionUID'),
       0x1197 => array('US', '1',    'FailureReason'),
       0x1198 => array('SQ', '1',    'FailedSOPSequence'),
       0x1199 => array('SQ', '1',    'ReferencedSOPSequence'),
       0x1200 => array('SQ', '1',    'StudiesContainingOtherReferencedInstancesSequence'),
       0x1250 => array('SQ', '1',    'RelatedSeriesSequence'),
       0x2110 => array('CS', '1',    'LossyImageCompressionRetired', 'RET'),
       0x2111 => array('ST', '1',    'DerivationDescription'),
       0x2112 => array('SQ', '1',    'SourceImageSequence'),
       0x2120 => array('SH', '1',    'StageName'),
       0x2122 => array('IS', '1',    'StageNumber'),
       0x2124 => array('IS', '1',    'NumberOfStages'),
       0x2127 => array('SH', '1',    'ViewName'),
       0x2128 => array('IS', '1',    'ViewNumber'),
       0x2129 => array('IS', '1',    'NumberOfEventTimers'),
       0x212A => array('IS', '1',    'NumberOfViewsInStage'),
       0x2130 => array('DS', '1-n',  'EventElapsedTimes'),
       0x2132 => array('LO', '1-n',  'EventTimerNames'),
       0x2133 => array('SQ', '1',    'EventTimerSequence'),
       0x2134 => array('FD', '1',    'EventTimeOffset'),
       0x2135 => array('SQ', '1',    'EventCodeSequence'),
       0x2142 => array('IS', '1',    'StartTrim'),
       0x2143 => array('IS', '1',    'StopTrim'),
       0x2144 => array('IS', '1',    'RecommendedDisplayFrameRate'),
       0x2200 => array('CS', '1',    'TransducerPosition', 'RET'),
       0x2204 => array('CS', '1',    'TransducerOrientation', 'RET'),
       0x2208 => array('CS', '1',    'AnatomicStructure', 'RET'),
       0x2218 => array('SQ', '1',    'AnatomicRegionSequence'),
       0x2220 => array('SQ', '1',    'AnatomicRegionModifierSequence'),
       0x2228 => array('SQ', '1',    'PrimaryAnatomicStructureSequence'),
       0x2229 => array('SQ', '1',    'AnatomicStructureSpaceOrRegionSequence'),
       0x2230 => array('SQ', '1',    'PrimaryAnatomicStructureModifierSequence'),
       0x2240 => array('SQ', '1',    'TransducerPositionSequence', 'RET'),
       0x2242 => array('SQ', '1',    'TransducerPositionModifierSequence', 'RET'),
       0x2244 => array('SQ', '1',    'TransducerOrientationSequence', 'RET'),
       0x2246 => array('SQ', '1',    'TransducerOrientationModifierSequence', 'RET'),
       0x2251 => array('SQ', '1',    'AnatomicStructureSpaceOrRegionCodeSequenceTrial', 'RET'),
       0x2253 => array('SQ', '1',    'AnatomicPortalOfEntranceCodeSequenceTrial', 'RET'),
       0x2255 => array('SQ', '1',    'AnatomicApproachDirectionCodeSequenceTrial', 'RET'),
       0x2256 => array('ST', '1',    'AnatomicPerspectiveDescriptionTrial', 'RET'),
       0x2257 => array('SQ', '1',    'AnatomicPerspectiveCodeSequenceTrial', 'RET'),
       0x2258 => array('ST', '1',    'AnatomicLocationOfExaminingInstrumentDescriptionTrial', 'RET'),
       0x2259 => array('SQ', '1',    'AnatomicLocationOfExaminingInstrumentCodeSequenceTrial', 'RET'),
       0x225A => array('SQ', '1',    'AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial', 'RET'),
       0x225C => array('SQ', '1',    'OnAxisBackgroundAnatomicStructureCodeSequenceTrial', 'RET'),
       0x3001 => array('SQ', '1',    'AlternateRepresentationSequence'),
       0x3010 => array('UI', '1',    'IrradiationEventUID'),
       0x4000 => array('LT', '1',    'IdentifyingComments', 'RET'),
       0x9007 => array('CS', '4',    'FrameType'),
       0x9092 => array('SQ', '1',    'ReferencedImageEvidenceSequence'),
       0x9121 => array('SQ', '1',    'ReferencedRawDataSequence'),
       0x9123 => array('UI', '1',    'CreatorVersionUID'),
       0x9124 => array('SQ', '1',    'DerivationImageSequence'),
       0x9154 => array('SQ', '1',    'SourceImageEvidenceSequence'),
       0x9205 => array('CS', '1',    'PixelPresentation'),
       0x9206 => array('CS', '1',    'VolumetricProperties'),
       0x9207 => array('CS', '1',    'VolumeBasedCalculationTechnique'),
       0x9208 => array('CS', '1',    'ComplexImageComponent'),
       0x9209 => array('CS', '1',    'AcquisitionContrast'),
       0x9215 => array('SQ', '1',    'DerivationCodeSequence'),
       0x9237 => array('SQ', '1',    'ReferencedPresentationStateSequence'),
       0x9410 => array('SQ', '1',    'ReferencedOtherPlaneSequence'),
       0x9458 => array('SQ', '1',    'FrameDisplaySequence'),
       0x9459 => array('FL', '1',    'RecommendedDisplayFrameRateInFloat'),
       0x9460 => array('CS', '1',    'SkipFrameRangeFlag'),
    ),

     0x0010 => array(
       0x0000 => array('UL', '1',    'PatientGroupLength', 'RET'),
       0x0010 => array('PN', '1',    'PatientName'),
       0x0020 => array('LO', '1',    'PatientID'),
       0x0021 => array('LO', '1',    'IssuerOfPatientID'),
       0x0022 => array('CS', '1',    'TypeOfPatientID'),
       0x0024 => array('SQ', '1',    'IssuerOfPatientIDQualifiersSequence'),
       0x0030 => array('DA', '1',    'PatientBirthDate'),
       0x0032 => array('TM', '1',    'PatientBirthTime'),
       0x0040 => array('CS', '1',    'PatientSex'),
       0x0050 => array('SQ', '1',    'PatientInsurancePlanCodeSequence'),
       0x0101 => array('SQ', '1',    'PatientPrimaryLanguageCodeSequence'),
       0x0102 => array('SQ', '1',    'PatientPrimaryLanguageModifierCodeSequence'),
       0x1000 => array('LO', '1-n',  'OtherPatientIDs'),
       0x1001 => array('PN', '1-n',  'OtherPatientNames'),
       0x1002 => array('SQ', '1',    'OtherPatientIDsSequence'),
       0x1005 => array('PN', '1',    'PatientBirthName'),
       0x1010 => array('AS', '1',    'PatientAge'),
       0x1020 => array('DS', '1',    'PatientSize'),
       0x1030 => array('DS', '1',    'PatientWeight'),
       0x1040 => array('LO', '1',    'PatientAddress'),
       0x1050 => array('LO', '1-n',  'InsurancePlanIdentification', 'RET'),
       0x1060 => array('PN', '1',    'PatientMotherBirthName'),
       0x1080 => array('LO', '1',    'MilitaryRank'),
       0x1081 => array('LO', '1',    'BranchOfService'),
       0x1090 => array('LO', '1',    'MedicalRecordLocator'),
       0x2000 => array('LO', '1-n',  'MedicalAlerts'),
       0x2110 => array('LO', '1-n',  'Allergies'),
       0x2150 => array('LO', '1',    'CountryOfResidence'),
       0x2152 => array('LO', '1',    'RegionOfResidence'),
       0x2154 => array('SH', '1-n',  'PatientTelephoneNumbers'),
       0x2160 => array('SH', '1',    'EthnicGroup'),
       0x2180 => array('SH', '1',    'Occupation'),
       0x21A0 => array('CS', '1',    'SmokingStatus'),
       0x21B0 => array('LT', '1',    'AdditionalPatientHistory'),
       0x21C0 => array('US', '1',    'PregnancyStatus'),
       0x21D0 => array('DA', '1',    'LastMenstrualDate'),
       0x21F0 => array('LO', '1',    'PatientReligiousPreference'),
       0x2201 => array('LO', '1',    'PatientSpeciesDescription'),
       0x2202 => array('SQ', '1',    'PatientSpeciesCodeSequence'),
       0x2203 => array('CS', '1',    'PatientSexNeutered'),
       0x2210 => array('CS', '1',    'AnatomicalOrientationType'),
       0x2292 => array('LO', '1',    'PatientBreedDescription'),
       0x2293 => array('SQ', '1',    'PatientBreedCodeSequence'),
       0x2294 => array('SQ', '1',    'BreedRegistrationSequence'),
       0x2295 => array('LO', '1',    'BreedRegistrationNumber'),
       0x2296 => array('SQ', '1',    'BreedRegistryCodeSequence'),
       0x2297 => array('PN', '1',    'ResponsiblePerson'),
       0x2298 => array('CS', '1',    'ResponsiblePersonRole'),
       0x2299 => array('LO', '1',    'ResponsibleOrganization'),
       0x4000 => array('LT', '1',    'PatientComments'),
       0x9431 => array('FL', '1',    'ExaminedBodyThickness'),
    ),
    0x0020 => array(
      0x0000 => array('UL', '1', 'ImageGroupLength', 'RET'),
      0x000D => array('UI', '1', 'StudyInstanceUID'),
      0x000E => array('UI', '1', 'SeriesInstanceUID'),
      0x0010 => array('SH', '1', 'StudyID'),
      0x0011 => array('IS', '1', 'SeriesNumber'),
      0x0012 => array('IS', '1', 'AcquisitionNumber'),
      0x0013 => array('IS', '1', 'InstanceNumber'),
      0x0014 => array('IS', '1', 'IsotopeNumber', 'RET'),
      0x0015 => array('IS', '1', 'PhaseNumber', 'RET'),
      0x0016 => array('IS', '1', 'IntervalNumber', 'RET'),
      0x0017 => array('IS', '1', 'TimeSlotNumber', 'RET'),
      0x0018 => array('IS', '1', 'AngleNumber', 'RET'),
      0x0019 => array('IS', '1', 'ItemNumber'),
      0x0020 => array('CS', '2', 'PatientOrientation'),
      0x0022 => array('IS', '1', 'OverlayNumber', 'RET'),
      0x0024 => array('IS', '1', 'CurveNumber', 'RET'),
      0x0026 => array('IS', '1', 'LUTNumber', 'RET'),
      0x0030 => array('DS', '3 ', 'ImagePosition', 'RET'),
      0x0032 => array('DS', '3', 'ImagePositionPatient'),
      0x0035 => array('DS', '6 ', 'ImageOrientation', 'RET'),
      0x0037 => array('DS', '6', 'ImageOrientationPatient'),
      0x0050 => array('DS', '1', 'Location', 'RET'),
      0x0052 => array('UI', '1', 'FrameOfReferenceUID'),
      0x0060 => array('CS', '1', 'Laterality'),
      0x0062 => array('CS', '1', 'ImageLaterality'),
      0x0070 => array('LO', '1', 'ImageGeometryType', 'RET'),
      0x0080 => array('CS', '1-n', 'MaskingImage', 'RET'),
      0x0100 => array('IS', '1', 'TemporalPositionIdentifier'),
      0x0105 => array('IS', '1', 'NumberOfTemporalPositions'),
      0x0110 => array('DS', '1', 'TemporalResolution'),
      0x0200 => array('UI', '1', 'SynchronizationFrameOfReferenceUID'),
      0x0242 => array('UI', '1', 'SOPInstanceUIDOfConcatenationSource'),
      0x1000 => array('IS', '1', 'SeriesInStudy', 'RET'),
      0x1001 => array('IS', '1', 'AcquisitionsInSeries', 'RET'),
      0x1002 => array('IS', '1', 'ImagesInAcquisition'),
      0x1003 => array('IS', '1', 'ImagesInSeries', 'RET'),
      0x1004 => array('IS', '1', 'AcquisitionsInStudy', 'RET'),
      0x1005 => array('IS', '1', 'ImagesInStudy', 'RET'),
      0x1020 => array('CS', '1-n', 'Reference', 'RET'),
      0x1040 => array('LO', '1', 'PositionReferenceIndicator'),
      0x1041 => array('DS', '1', 'SliceLocation'),
      0x1070 => array('IS', '1-n', 'OtherStudyNumbers', 'RET'),
      0x1200 => array('IS', '1', 'NumberOfPatientRelatedStudies'),
      0x1202 => array('IS', '1', 'NumberOfPatientRelatedSeries'),
      0x1204 => array('IS', '1', 'NumberOfPatientRelatedInstances'),
      0x1206 => array('IS', '1', 'NumberOfStudyRelatedSeries'),
      0x1208 => array('IS', '1', 'NumberOfStudyRelatedInstances'),
      0x1209 => array('IS', '1', 'NumberOfSeriesRelatedInstances'),
      0x3401 => array('CS', '1', 'ModifyingDeviceID', 'RET'),
      0x3402 => array('CS', '1', 'ModifiedImageID', 'RET'),
      0x3403 => array('DA', '1', 'ModifiedImageDate', 'RET'),
      0x3404 => array('LO', '1', 'ModifyingDeviceManufacturer', 'RET'),
      0x3405 => array('TM', '1', 'ModifiedImageTime', 'RET'),
      0x3406 => array('LO', '1', 'ModifiedImageDescription', 'RET'),
      0x4000 => array('LT', '1', 'ImageComments'),
      0x5000 => array('AT', '1-n', 'OriginalImageIdentification', 'RET'),
      0x5002 => array('CS', '1-n', 'OriginalImageIdentificationNomenclature', 'RET'),
      0x9056 => array('SH', '1', 'StackID'),
      0x9057 => array('UL', '1', 'InStackPositionNumber'),
      0x9071 => array('SQ', '1', 'FrameAnatomySequence'),
      0x9072 => array('CS', '1', 'FrameLaterality'),
      0x9111 => array('SQ', '1', 'FrameContentSequence'),
      0x9113 => array('SQ', '1', 'PlanePositionSequence'),
      0x9116 => array('SQ', '1', 'PlaneOrientationSequence'),
      0x9128 => array('UL', '1', 'TemporalPositionIndex'),
      0x9153 => array('FD', '1', 'NominalCardiacTriggerDelayTime'),
      0x9156 => array('US', '1', 'FrameAcquisitionNumber'),
      0x9157 => array('UL', '1-n', 'DimensionIndexValues'),
      0x9158 => array('LT', '1', 'FrameComments'),
      0x9161 => array('UI', '1', 'ConcatenationUID'),
      0x9162 => array('US', '1', 'InConcatenationNumber'),
      0x9163 => array('US', '1', 'InConcatenationTotalNumber'),
      0x9164 => array('UI', '1', 'DimensionOrganizationUID'),
      0x9165 => array('AT', '1', 'DimensionIndexPointer'),
      0x9167 => array('AT', '1', 'FunctionalGroupPointer'),
      0x9213 => array('LO', '1', 'DimensionIndexPrivateCreator'),
      0x9221 => array('SQ', '1', 'DimensionOrganizationSequence'),
      0x9222 => array('SQ', '1', 'DimensionIndexSequence'),
      0x9228 => array('UL', '1', 'ConcatenationFrameOffsetNumber'),
      0x9238 => array('LO', '1', 'FunctionalGroupPrivateCreator'),
      0x9241 => array('FL', '1', 'NominalPercentageOfCardiacPhase'),
      0x9245 => array('FL', '1', 'NominalPercentageOfRespiratoryPhase'),
      0x9246 => array('FL', '1', 'StartingRespiratoryAmplitude'),
      0x9247 => array('CS', '1', 'StartingRespiratoryPhase'),
      0x9248 => array('FL', '1', 'EndingRespiratoryAmplitude'),
      0x9249 => array('CS', '1', 'EndingRespiratoryPhase'),
      0x9250 => array('CS', '1', 'RespiratoryTriggerType'),
      0x9251 => array('FD', '1', 'RRIntervalTimeNominal'),
      0x9252 => array('FD', '1', 'ActualCardiacTriggerDelayTime'),
      0x9253 => array('SQ', '1', 'RespiratorySynchronizationSequence'),
      0x9254 => array('FD', '1', 'RespiratoryIntervalTime'),
      0x9255 => array('FD', '1', 'NominalRespiratoryTriggerDelayTime'),
      0x9256 => array('FD', '1', 'RespiratoryTriggerDelayThreshold'),
      0x9257 => array('FD', '1', 'ActualRespiratoryTriggerDelayTime'),
      0x9301 => array('FD', '3', 'ImagePositionVolume'),
      0x9302 => array('FD', '6', 'ImageOrientationVolume'),
      0x9307 => array('CS', '1', 'UltrasoundAcquisitionGeometry'),
      0x9308 => array('FD', '3', 'ApexPosition'),
      0x9309 => array('FD', '16', 'VolumeToTransducerMappingMatrix'),
      0x930A => array('FD', '16', 'VolumeToTableMappingMatrix'),
      0x930C => array('CS', '1', 'PatientFrameOfReferenceSource'),
      0x930D => array('FD', '1', 'TemporalPositionTimeOffset'),
      0x930E => array('SQ', '1', 'PlanePositionVolumeSequence'),
      0x930F => array('SQ', '1', 'PlaneOrientationVolumeSequence'),
      0x9310 => array('SQ', '1', 'TemporalPositionSequence'),
      0x9311 => array('CS', '1', 'DimensionOrganizationType'),
      0x9312 => array('UI', '1', 'VolumeFrameOfReferenceUID'),
      0x9313 => array('UI', '1', 'TableFrameOfReferenceUID'),
      0x9421 => array('LO', '1', 'DimensionDescriptionLabel'),
      0x9450 => array('SQ', '1', 'PatientOrientationInFrameSequence'),
      0x9453 => array('LO', '1', 'FrameLabel'),
      0x9518 => array('US', '1-n', 'AcquisitionIndex'),
      0x9529 => array('SQ', '1', 'ContributingSOPInstancesReferenceSequence'),
      0x9536 => array('US', '1', 'ReconstructionIndex'),
    ),

    0x0032 => array(
      0x0000 => array('UL', '1', 'StudyGroupLength', 'RET'),
      0x000A => array('CS', '1', 'StudyStatusID', 'RET'),
      0x000C => array('CS', '1', 'StudyPriorityID', 'RET'),
      0x0012 => array('LO', '1', 'StudyIDIssuer', 'RET'),
      0x0032 => array('DA', '1', 'StudyVerifiedDate', 'RET'),
      0x0033 => array('TM', '1', 'StudyVerifiedTime', 'RET'),
      0x0034 => array('DA', '1', 'StudyReadDate', 'RET'),
      0x0035 => array('TM', '1', 'StudyReadTime', 'RET'),
      0x1000 => array('DA', '1', 'ScheduledStudyStartDate', 'RET'),
      0x1001 => array('TM', '1', 'ScheduledStudyStartTime', 'RET'),
      0x1010 => array('DA', '1', 'ScheduledStudyStopDate', 'RET'),
      0x1011 => array('TM', '1', 'ScheduledStudyStopTime', 'RET'),
      0x1020 => array('LO', '1', 'ScheduledStudyLocation', 'RET'),
      0x1021 => array('AE', '1-n ', 'ScheduledStudyLocationAEtitle', 'RET'),
      0x1030 => array('LO', '1', 'ReasonForStudy', 'RET'),
      0x1031 => array('SQ', '1', 'RequestingPhysicianIdentificationSequence'),
      0x1032 => array('PN', '1', 'RequestingPhysician'),
      0x1033 => array('LO', '1', 'RequestingService'),
      0x1034 => array('SQ', '1', 'RequestingServiceCodeSequence'),
      0x1040 => array('DA', '1', 'StudyArrivalDate', 'RET'),
      0x1041 => array('TM', '1', 'StudyArrivalTime', 'RET'),
      0x1050 => array('DA', '1', 'StudyCompletionDate', 'RET'),
      0x1051 => array('TM', '1', 'StudyCompletionTime', 'RET'),
      0x1055 => array('CS', '1', 'StudyComponentStatusID', 'RET'),
      0x1060 => array('LO', '1', 'RequestedProcedureDescription'),
      0x1064 => array('SQ', '1', 'RequestedProcedureCodeSequence'),
      0x1070 => array('LO', '1', 'RequestedContrastAgent'),
      0x4000 => array('LT', '1', 'StudyComments', 'RET'),
    ),

    0x0038 => array(
      0x0000 => array('UL', '1', 'VisitGroupLength', 'RET'),
      0x0004 => array('SQ', '1', 'ReferencedPatientAliasSequence'),
      0x0008 => array('CS', '1', 'VisitStatusID'),
      0x0010 => array('LO', '1', 'AdmissionID'),
      0x0011 => array('LO', '1', 'IssuerOfAdmissionID', 'RET'),
      0x0014 => array('SQ', '1', 'IssuerOfAdmissionIDSequence'),
      0x0016 => array('LO', '1', 'RouteOfAdmissions'),
      0x001A => array('DA', '1', 'ScheduledAdmissionDate', 'RET'),
      0x001B => array('TM', '1', 'ScheduledAdmissionTime', 'RET'),
      0x001C => array('DA', '1', 'ScheduledDischargeDate', 'RET'),
      0x001D => array('TM', '1', 'ScheduledDischargeTime', 'RET'),
      0x001E => array('LO', '1', 'ScheduledPatientInstitutionResidence', 'RET'),
      0x0020 => array('DA', '1', 'AdmittingDate'),
      0x0021 => array('TM', '1', 'AdmittingTime'),
      0x0030 => array('DA', '1', 'DischargeDate', 'RET'),
      0x0032 => array('TM', '1', 'DischargeTime', 'RET'),
      0x0040 => array('LO', '1', 'DischargeDiagnosisDescription', 'RET'),
      0x0044 => array('SQ', '1', 'DischargeDiagnosisCodeSequence', 'RET'),
      0x0050 => array('LO', '1', 'SpecialNeeds'),
      0x0060 => array('LO', '1', 'ServiceEpisodeID'),
      0x0061 => array('LO', '1', 'IssuerOfServiceEpisodeID', 'RET'),
      0x0062 => array('LO', '1', 'ServiceEpisodeDescription'),
      0x0064 => array('SQ', '1', 'IssuerOfServiceEpisodeIDSequence'),
      0x0100 => array('SQ', '1', 'PertinentDocumentsSequence'),
      0x0300 => array('LO', '1', 'CurrentPatientLocation'),
      0x0400 => array('LO', '1', 'PatientInstitutionResidence'),
      0x0500 => array('LO', '1', 'PatientState'),
      0x0502 => array('SQ', '1', 'PatientClinicalTrialParticipationSequence'),
      0x4000 => array('LT', '1', 'VisitComments'),
    ),

    0x0040 => array(
      0x0000 => array('UL', '1', 'ScheduledProcedureGroupLength'),
      0x0001 =>  array('AE', '1-n', 'ScheduledStationAETitle'),
      0x0002 =>  array('DA', '1', 'ScheduledProcedureStepStartDate'),
      0x0003 =>  array('TM', '1', 'ScheduledProcedureStepStartTime'),
      0x0004 =>  array('DA', '1', 'ScheduledProcedureStepEndDate'),
      0x0005 =>  array('TM', '1', 'ScheduledProcedureStepEndTime'),
      0x0006 =>  array('PN', '1', 'ScheduledPerformingPhysicianName'),
      0x0007 =>  array('LO', '1', 'ScheduledProcedureStepDescription'),
      0x0008 =>  array('SQ', '1', 'ScheduledProtocolCodeSequence'),
      0x0009 =>  array('SH', '1', 'ScheduledProcedureStepID'),
      0x000A =>  array('SQ', '1', 'StageCodeSequence'),
      0x000B =>  array('SQ', '1', 'ScheduledPerformingPhysicianIdentificationSequence'),
      0x0010 =>  array('SH', '1-n', 'ScheduledStationName'),
      0x0011 =>  array('SH', '1', 'ScheduledProcedureStepLocation'),
      0x0012 =>  array('LO', '1', 'PreMedication'),
      0x0020 =>  array('CS', '1', 'ScheduledProcedureStepStatus'),
      0x0026 =>  array('SQ', '1', 'OrderPlacerIdentifierSequence'),
      0x0027 =>  array('SQ', '1', 'OrderFillerIdentifierSequence'),
      0x0031 =>  array('UT', '1', 'LocalNamespaceEntityID'),
      0x0032 =>  array('UT', '1', 'UniversalEntityID'),
      0x0033 =>  array('CS', '1', 'UniversalEntityIDType'),
      0x0035 =>  array('CS', '1', 'IdentifierTypeCode'),
      0x0036 =>  array('SQ', '1', 'AssigningFacilitySequence'),
      0x0039 =>  array('SQ', '1', 'AssigningJurisdictionCodeSequence'),
      0x003A =>  array('SQ', '1', 'AssigningAgencyOrDepartmentCodeSequence'),
      0x0100 =>  array('SQ', '1', 'ScheduledProcedureStepSequence'),
      0x0220 =>  array('SQ', '1', 'ReferencedNonImageCompositeSOPInstanceSequence'),
      0x0241 =>  array('AE', '1', 'PerformedStationAETitle'),
      0x0242 =>  array('SH', '1', 'PerformedStationName'),
      0x0243 =>  array('SH', '1', 'PerformedLocation'),
      0x0244 =>  array('DA', '1', 'PerformedProcedureStepStartDate'),
      0x0245 =>  array('TM', '1', 'PerformedProcedureStepStartTime'),
      0x0250 =>  array('DA', '1', 'PerformedProcedureStepEndDate'),
      0x0251 =>  array('TM', '1', 'PerformedProcedureStepEndTime'),
      0x0252 =>  array('CS', '1', 'PerformedProcedureStepStatus'),
      0x0253 =>  array('SH', '1', 'PerformedProcedureStepID'),
      0x0254 =>  array('LO', '1', 'PerformedProcedureStepDescription'),
      0x0255 =>  array('LO', '1', 'PerformedProcedureTypeDescription'),
      0x0260 =>  array('SQ', '1', 'PerformedProtocolCodeSequence'),
      0x0261 =>  array('CS', '1', 'PerformedProtocolType'),
      0x0270 =>  array('SQ', '1', 'ScheduledStepAttributesSequence'),
      0x0275 =>  array('SQ', '1', 'RequestAttributesSequence'),
      0x0280 =>  array('ST', '1', 'CommentsOnThePerformedProcedureStep'),
      0x0281 =>  array('SQ', '1', 'PerformedProcedureStepDiscontinuationReasonCodeSequence'),
      0x0293 =>  array('SQ', '1', 'QuantitySequence'),
      0x0294 =>  array('DS', '1', 'Quantity'),
      0x0295 =>  array('SQ', '1', 'MeasuringUnitsSequence'),
      0x0296 =>  array('SQ', '1', 'BillingItemSequence'),
      0x0300 =>  array('US', '1', 'TotalTimeOfFluoroscopy'),
      0x0301 =>  array('US', '1', 'TotalNumberOfExposures'),
      0x0302 =>  array('US', '1', 'EntranceDose'),
      0x0303 =>  array('US', '1-2', 'ExposedArea'),
      0x0306 =>  array('DS', '1', 'DistanceSourceToEntrance'),
      0x0307 =>  array('DS', '1', 'DistanceSourceToSupport', 'RET'),
      0x030E =>  array('SQ', '1', 'ExposureDoseSequence'),
      0x0310 =>  array('ST', '1', 'CommentsOnRadiationDose'),
      0x0312 =>  array('DS', '1', 'XRayOutput'),
      0x0314 =>  array('DS', '1', 'HalfValueLayer'),
      0x0316 =>  array('DS', '1', 'OrganDose'),
      0x0318 =>  array('CS', '1', 'OrganExposed'),
      0x0320 =>  array('SQ', '1', 'BillingProcedureStepSequence'),
      0x0321 =>  array('SQ', '1', 'FilmConsumptionSequence'),
      0x0324 =>  array('SQ', '1', 'BillingSuppliesAndDevicesSequence'),
      0x0330 =>  array('SQ', '1', 'ReferencedProcedureStepSequence', 'RET'),
      0x0340 =>  array('SQ', '1', 'PerformedSeriesSequence'),
      0x0400 =>  array('LT', '1', 'CommentsOnTheScheduledProcedureStep'),
      0x0440 =>  array('SQ', '1', 'ProtocolContextSequence'),
      0x0441 =>  array('SQ', '1', 'ContentItemModifierSequence'),
      0x0500 =>  array('SQ', '1', 'ScheduledSpecimenSequence'),
      0x050A =>  array('LO', '1', 'SpecimenAccessionNumber', 'RET'),
      0x0512 =>  array('LO', '1', 'ContainerIdentifier'),
      0x0513 =>  array('SQ', '1', 'IssuerOfTheContainerIdentifierSequence'),
      0x0515 =>  array('SQ', '1', 'AlternateContainerIdentifierSequence'),
      0x0518 =>  array('SQ', '1', 'ContainerTypeCodeSequence'),
      0x051A =>  array('LO', '1', 'ContainerDescription'),
      0x0520 =>  array('SQ', '1', 'ContainerComponentSequence'),
      0x0550 =>  array('SQ', '1', 'SpecimenSequence', 'RET'),
      0x0551 =>  array('LO', '1', 'SpecimenIdentifier'),
      0x0552 =>  array('SQ', '1', 'SpecimenDescriptionSequenceTrial', 'RET'),
      0x0553 =>  array('ST', '1', 'SpecimenDescriptionTrial', 'RET'),
      0x0554 =>  array('UI', '1', 'SpecimenUID'),
      0x0555 =>  array('SQ', '1', 'AcquisitionContextSequence'),
      0x0556 =>  array('ST', '1', 'AcquisitionContextDescription'),
      0x0560 =>  array('SQ', '1', 'SpecimenDescriptionSequence'),
      0x0562 =>  array('SQ', '1', 'IssuerOfTheSpecimenIdentifierSequence'),
      0x059A =>  array('SQ', '1', 'SpecimenTypeCodeSequence'),
      0x0600 =>  array('LO', '1', 'SpecimenShortDescription'),
      0x0602 =>  array('UT', '1', 'SpecimenDetailedDescription'),
      0x0610 =>  array('SQ', '1', 'SpecimenPreparationSequence'),
      0x0612 =>  array('SQ', '1', 'SpecimenPreparationStepContentItemSequence'),
      0x0620 =>  array('SQ', '1', 'SpecimenLocalizationContentItemSequence'),
      0x06FA =>  array('LO', '1', 'SlideIdentifier', 'RET'),
      0x071A =>  array('SQ', '1', 'ImageCenterPointCoordinatesSequence'),
      0x072A =>  array('DS', '1', 'XOffsetInSlideCoordinateSystem'),
      0x073A =>  array('DS', '1', 'YOffsetInSlideCoordinateSystem'),
      0x074A =>  array('DS', '1', 'ZOffsetInSlideCoordinateSystem'),
      0x08D8 =>  array('SQ', '1', 'PixelSpacingSequence'),
      0x08DA =>  array('SQ', '1', 'CoordinateSystemAxisCodeSequence'),
      0x08EA =>  array('SQ', '1', 'MeasurementUnitsCodeSequence'),
      0x09F8 =>  array('SQ', '1', 'VitalStainCodeSequenceTrial', 'RET'),
      0x1001 =>  array('SH', '1', 'RequestedProcedureID'),
      0x1002 =>  array('LO', '1', 'ReasonForTheRequestedProcedure'),
      0x1003 =>  array('SH', '1', 'RequestedProcedurePriority'),
      0x1004 =>  array('LO', '1', 'PatientTransportArrangements'),
      0x1005 =>  array('LO', '1', 'RequestedProcedureLocation'),
      0x1006 =>  array('SH', '1', 'PlacerOrderNumberProcedure', 'RET'),
      0x1007 =>  array('SH', '1', 'FillerOrderNumberProcedure', 'RET'),
      0x1008 =>  array('LO', '1', 'ConfidentialityCode'),
      0x1009 =>  array('SH', '1', 'ReportingPriority'),
      0x100A =>  array('SQ', '1', 'ReasonForRequestedProcedureCodeSequence'),
      0x1010 =>  array('PN', '1-n', 'NamesOfIntendedRecipientsOfResults'),
      0x1011 =>  array('SQ', '1', 'IntendedRecipientsOfResultsIdentificationSequence'),
      0x1012 =>  array('SQ', '1', 'ReasonForPerformedProcedureCodeSequence'),
      0x1101 =>  array('SQ', '1', 'PersonIdentificationCodeSequence'),
      0x1102 =>  array('ST', '1', 'PersonAddress'),
      0x1103 =>  array('LO', '1-n', 'PersonTelephoneNumbers'),
      0x1400 =>  array('LT', '1', 'RequestedProcedureComments'),
      0x2001 =>  array('LO', '1', 'ReasonForTheImagingServiceRequest', 'RET'),
      0x2004 =>  array('DA', '1', 'IssueDateOfImagingServiceRequest'),
      0x2005 =>  array('TM', '1', 'IssueTimeOfImagingServiceRequest'),
      0x2006 =>  array('SH', '1', 'PlacerOrderNumberImagingServiceRequestRetired', 'RET'),
      0x2007 =>  array('SH', '1', 'FillerOrderNumberImagingServiceRequestRetired', 'RET'),
      0x2008 =>  array('PN', '1', 'OrderEnteredBy'),
      0x2009 =>  array('SH', '1', 'OrderEntererLocation'),
      0x2010 =>  array('SH', '1', 'OrderCallbackPhoneNumber'),
      0x2016 =>  array('LO', '1', 'PlacerOrderNumberImagingServiceRequest'),
      0x2017 =>  array('LO', '1', 'FillerOrderNumberImagingServiceRequest'),
      0x2400 =>  array('LT', '1', 'ImagingServiceRequestComments'),
      0x3001 =>  array('LO', '1', 'ConfidentialityConstraintOnPatientDataDescription'),
      0x4001 =>  array('CS', '1', 'GeneralPurposeScheduledProcedureStepStatus'),
      0x4002 =>  array('CS', '1', 'GeneralPurposePerformedProcedureStepStatus'),
      0x4003 =>  array('CS', '1', 'GeneralPurposeScheduledProcedureStepPriority'),
      0x4004 =>  array('SQ', '1', 'ScheduledProcessingApplicationsCodeSequence'),
      0x4005 =>  array('DT', '1', 'ScheduledProcedureStepStartDateTime'),
      0x4006 =>  array('CS', '1', 'MultipleCopiesFlag'),
      0x4007 =>  array('SQ', '1', 'PerformedProcessingApplicationsCodeSequence'),
      0x4009 =>  array('SQ', '1', 'HumanPerformerCodeSequence'),
      0x4010 =>  array('DT', '1', 'ScheduledProcedureStepModificationDateTime'),
      0x4011 =>  array('DT', '1', 'ExpectedCompletionDateTime'),
      0x4015 =>  array('SQ', '1', 'ResultingGeneralPurposePerformedProcedureStepsSequence'),
      0x4016 =>  array('SQ', '1', 'ReferencedGeneralPurposeScheduledProcedureStepSequence'),
      0x4018 =>  array('SQ', '1', 'ScheduledWorkitemCodeSequence'),
      0x4019 =>  array('SQ', '1', 'PerformedWorkitemCodeSequence'),
      0x4020 =>  array('CS', '1', 'InputAvailabilityFlag'),
      0x4021 =>  array('SQ', '1', 'InputInformationSequence'),
      0x4022 =>  array('SQ', '1', 'RelevantInformationSequence'),
      0x4023 =>  array('UI', '1', 'ReferencedGeneralPurposeScheduledProcedureStepTransactionUID'),
      0x4025 =>  array('SQ', '1', 'ScheduledStationNameCodeSequence'),
      0x4026 =>  array('SQ', '1', 'ScheduledStationClassCodeSequence'),
      0x4027 =>  array('SQ', '1', 'ScheduledStationGeographicLocationCodeSequence'),
      0x4028 =>  array('SQ', '1', 'PerformedStationNameCodeSequence'),
      0x4029 =>  array('SQ', '1', 'PerformedStationClassCodeSequence'),
      0x4030 =>  array('SQ', '1', 'PerformedStationGeographicLocationCodeSequence'),
      0x4031 =>  array('SQ', '1', 'RequestedSubsequentWorkitemCodeSequence'),
      0x4032 =>  array('SQ', '1', 'NonDICOMOutputCodeSequence'),
      0x4033 =>  array('SQ', '1', 'OutputInformationSequence'),
      0x4034 =>  array('SQ', '1', 'ScheduledHumanPerformersSequence'),
      0x4035 =>  array('SQ', '1', 'ActualHumanPerformersSequence'),
      0x4036 =>  array('LO', '1', 'HumanPerformerOrganization'),
      0x4037 =>  array('PN', '1', 'HumanPerformerName'),
      0x4040 =>  array('CS', '1', 'RawDataHandling'),
      0x8302 =>  array('DS', '1', 'EntranceDoseInmGy'),
      0x9094 =>  array('SQ', '1', 'ReferencedImageRealWorldValueMappingSequence'),
      0x9096 =>  array('SQ', '1', 'RealWorldValueMappingSequence'),
      0x9098 =>  array('SQ', '1', 'PixelValueMappingCodeSequence'),
      0x9210 =>  array('SH', '1', 'LUTLabel'),
      0x9212 =>  array('FD', '1-n', 'RealWorldValueLUTData'),
      0x9224 =>  array('FD', '1', 'RealWorldValueIntercept'),
      0x9225 =>  array('FD', '1', 'RealWorldValueSlope'),
      0xA010 =>  array('CS', '1', 'RelationshipType'),
      0xA027 =>  array('LO', '1', 'VerifyingOrganization'),
      0xA030 =>  array('DT', '1', 'VerificationDateTime'),
      0xA032 =>  array('DT', '1', 'ObservationDateTime'),
      0xA040 =>  array('CS', '1', 'ValueType'),
      0xA043 =>  array('SQ', '1', 'ConceptNameCodeSequence'),
      0xA050 =>  array('CS', '1', 'ContinuityOfContent'),
      0xA073 =>  array('SQ', '1', 'VerifyingObserverSequence'),
      0xA075 =>  array('PN', '1', 'VerifyingObserverName'),
      0xA078 =>  array('SQ', '1', 'AuthorObserverSequence'),
      0xA07A =>  array('SQ', '1', 'ParticipantSequence'),
      0xA07C =>  array('SQ', '1', 'CustodialOrganizationSequence'),
      0xA080 =>  array('CS', '1', 'ParticipationType'),
      0xA082 =>  array('DT', '1', 'ParticipationDateTime'),
      0xA084 =>  array('CS', '1', 'ObserverType'),
      0xA088 =>  array('SQ', '1', 'VerifyingObserverIdentificationCodeSequence'),
      0xA090 =>  array('SQ', '1', 'EquivalentCDADocumentSequence', 'RET'),
      0xA0B0 =>  array('US', '2-2n', 'ReferencedWaveformChannels'),
      0xA120 =>  array('DT', '1', 'DateTime'),
      0xA121 =>  array('DA', '1', 'Date'),
      0xA122 =>  array('TM', '1', 'Time'),
      0xA123 =>  array('PN', '1', 'PersonName'),
      0xA124 =>  array('UI', '1', 'UID'),
      0xA130 =>  array('CS', '1', 'TemporalRangeType'),
      0xA132 =>  array('UL', '1-n', 'ReferencedSamplePositions'),
      0xA136 =>  array('US', '1-n', 'ReferencedFrameNumbers'),
      0xA138 =>  array('DS', '1-n', 'ReferencedTimeOffsets'),
      0xA13A =>  array('DT', '1-n', 'ReferencedDateTime'),
      0xA160 =>  array('UT', '1', 'TextValue'),
      0xA168 =>  array('SQ', '1', 'ConceptCodeSequence'),
      0xA170 =>  array('SQ', '1', 'PurposeOfReferenceCodeSequence'),
      0xA180 =>  array('US', '1', 'AnnotationGroupNumber'),
      0xA195 =>  array('SQ', '1', 'ModifierCodeSequence'),
      0xA300 =>  array('SQ', '1', 'MeasuredValueSequence'),
      0xA301 =>  array('SQ', '1', 'NumericValueQualifierCodeSequence'),
      0xA30A =>  array('DS', '1-n', 'NumericValue'),
      0xA353 =>  array('ST', '1', 'AddressTrial', 'RET'),
      0xA354 =>  array('LO', '1', 'TelephoneNumberTrial', 'RET'),
      0xA360 =>  array('SQ', '1', 'PredecessorDocumentsSequence'),
      0xA370 =>  array('SQ', '1', 'ReferencedRequestSequence'),
      0xA372 =>  array('SQ', '1', 'PerformedProcedureCodeSequence'),
      0xA375 =>  array('SQ', '1', 'CurrentRequestedProcedureEvidenceSequence'),
      0xA385 =>  array('SQ', '1', 'PertinentOtherEvidenceSequence'),
      0xA390 =>  array('SQ', '1', 'HL7StructuredDocumentReferenceSequence'),
      0xA491 =>  array('CS', '1', 'CompletionFlag'),
      0xA492 =>  array('LO', '1', 'CompletionFlagDescription'),
      0xA493 =>  array('CS', '1', 'VerificationFlag'),
      0xA494 =>  array('CS', '1', 'ArchiveRequested'),
      0xA496 =>  array('CS', '1', 'PreliminaryFlag'),
      0xA504 =>  array('SQ', '1', 'ContentTemplateSequence'),
      0xA525 =>  array('SQ', '1', 'IdenticalDocumentsSequence'),
      0xA730 =>  array('SQ', '1', 'ContentSequence'),
      0xB020 =>  array('SQ', '1', 'WaveformAnnotationSequence'),
      0xDB00 =>  array('CS', '1', 'TemplateIdentifier'),
      0xDB06 =>  array('DT', '1', 'TemplateVersion', 'RET'),
      0xDB07 =>  array('DT', '1', 'TemplateLocalVersion', 'RET'),
      0xDB0B =>  array('CS', '1', 'TemplateExtensionFlag', 'RET'),
      0xDB0C =>  array('UI', '1'  , 'TemplateExtensionOrganizationUID', 'RET'),
      0xDB0D =>  array('UI', '1'  , 'TemplateExtensionCreatorUID', 'RET'),
      0xDB73 =>  array('UL', '1-n', 'ReferencedContentItemIdentifier'),
      0xE001 =>  array('ST', '1'  , 'HL7InstanceIdentifier'),
      0xE004 =>  array('DT', '1'  , 'HL7DocumentEffectiveTime'),
      0xE006 =>  array('SQ', '1'  , 'HL7DocumentTypeCodeSequence'),
      0xE010 =>  array('UT', '1'  , 'RetrieveURI'),
      0xE011 =>  array('UI', '1'  , 'RetrieveLocationUID'),
    ),

    0xFFFE => array(
      0xE000 => array('LO', '1', 'ItemBeginDelimitation'),
      0xE00D => array('LO', '1', 'ItemEndDelimitation'),
      0xE0DD => array('LO', '1', 'SequenceEndDelimitation')
    )
  );

  protected static $groups = array(
    0x000 => "Command",
    0x008 => "Study",
    0x010 => "Patient"
  );

  /**
   * Get the name of the SOP class
   *
   * @param string $uid The UID of the SOP class
   *
   * @return string
   */
  static function getSOPClass($uid) {
    return self::$sop_classes[$uid];
  }

  /**
   * Get the name of a transfer syntax
   *
   * @param string $uid The UID of the transfer syntax
   *
   * @return string
   */
  static function getTransferSyntaxName($uid) {
    return self::$transfer_syntaxes[$uid];
  }

  /**
   * Get the characteristics of a value representations
   *
   * @param string $vr_name The name of the value representation
   *
   * @return array
   */
  static function getValueRepresentation($vr_name) {
    if (array_key_exists($vr_name, self::$value_representations)) {
      return self::$value_representations[$vr_name];
    }

    return false;
  }

  /**
   * Get the characteristics of the given data set, identified by is group and is element number
   *
   * @param integer $group   The group number
   *
   * @param integer $element The element number
   *
   * @return array
   */
  static function getDataSet($group, $element) {
    if (!array_key_exists($group, self::$data_sets) || !array_key_exists($element, self::$data_sets[$group])) {
      return null;
    }
    return self::$data_sets[$group][$element];
  }

  /**
   * Get the group and all its datasets
   *
   * @param integer $group The group number
   *
   * @return array
   */
  static function getGroupsDataSet($group) {
    return self::$data_sets[$group];
  }

  /**
   * Get the groups names
   *
   * @return array
   */
  static function getGroupsNames() {
    return self::$groups;
  }

  /**
   * Check if the SOP class is supported by Mediboard
   *
   * @param string $uid The UID of the SOP class
   *
   * @return boolean
   */
  static function isSOPClassSupported($uid) {
    return array_key_exists($uid, self::$sop_classes);
  }

  /**
   * Check if the transfer syntax is supported by Mediboard
   *
   * @param string $uid The UID of the transfer syntax
   *
   * @return boolean
   */
  static function isTransferSyntaxSupported($uid) {
    return array_key_exists($uid, self::$transfer_syntaxes);
  }
}